{"version":3,"file":"js/admin.js","mappings":";;;;;;;;;;AAAA;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;ACNA;AACA;AAEA,MAAM;AAAEE,EAAAA,WAAW,EAAE;AAAEC,IAAAA,QAAQ,EAAE;AAAEC,MAAAA,gBAAgB,EAAEC;AAApB;AAAZ;AAAf,IAAyEC,MAA/E;;AAEA,SAASC,UAAT,CAAqBC,GAArB,EAAmD;AAAA,MAAzBC,IAAyB,uEAAlB,MAAkB;AAAA,MAAVC,OAAU;AAC/C,QAAMC,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAwB,KAAxB,CAAhB;AACA,QAAMC,OAAO,GAAGF,QAAQ,CAACC,aAAT,CAAwB,QAAxB,CAAhB;AACAF,EAAAA,OAAO,CAACI,SAAR,CAAkBC,GAAlB,CAAuB,sCAAvB,EAA+D,QAA/D,EAAyE,gBAAzE,EAA4F,UAASP,IAAK,EAA1G;AACAE,EAAAA,OAAO,CAACM,SAAR,GAAqB,cAAaP,OAAQ,eAA1C;AACAI,EAAAA,OAAO,CAACC,SAAR,CAAkBC,GAAlB,CAAuB,gBAAvB;AACAF,EAAAA,OAAO,CAACI,YAAR,CAAsB,MAAtB,EAA8B,QAA9B;AACAJ,EAAAA,OAAO,CAACI,YAAR,CAAsB,YAAtB,EAAoC,sBAApC;AACAJ,EAAAA,OAAO,CAACK,gBAAR,CAA0B,OAA1B,EAAmC,MAAM;AACrCX,IAAAA,GAAG,CAACY,WAAJ,CAAiBT,OAAjB;AACH,GAFD;AAGAA,EAAAA,OAAO,CAACU,WAAR,CAAqBP,OAArB;;AAEA,MAAKF,QAAQ,CAACU,aAAT,CAAwB,uCAAxB,CAAL,EAAyE;AACrEV,IAAAA,QAAQ,CAACU,aAAT,CAAwB,uCAAxB,EAAkEC,MAAlE;AACH;;AAEDf,EAAAA,GAAG,CAACgB,OAAJ,CAAab,OAAb;AACH;;AAEDX,2DAAQ,CAAC,MAAM;AACX,QAAMyB,OAAO,GAAGb,QAAQ,CAACU,aAAT,CAAwB,0BAAxB,CAAhB;AACA,QAAMI,cAAc,GAAGd,QAAQ,CAACU,aAAT,CAAuB,iBAAvB,CAAvB;AACA,QAAMK,WAAW,GAAGf,QAAQ,CAACU,aAAT,CAAuB,cAAvB,CAApB;AAEAI,EAAAA,cAAc,CAACP,gBAAf,CAAgC,OAAhC,EAAyC,MAAM;AAC3ClB,IAAAA,2DAAQ,CAAC;AACL2B,MAAAA,IAAI,EAAE,4BADD;AAELC,MAAAA,MAAM,EAAE,MAFH;AAGLC,MAAAA,IAAI,EAAE;AACFC,QAAAA,OAAO,EAAEJ,WAAW,CAACK,KADnB;AAEFC,QAAAA,SAAS,EAAE,CAAC5B;AAFV;AAHD,KAAD,CAAR,CAOG6B,IAPH,CAOQ,QAAiB;AAAA,UAAhB;AAAEC,QAAAA;AAAF,OAAgB;AACrB5B,MAAAA,UAAU,CACNkB,OADM,EAENU,OAAO,GAAG,SAAH,GAAe,OAFhB,EAGNA,OAAO,GACD,mBADC,GAED,qGALA,CAAV;AAOH,KAfD;AAgBH,GAjBD;AAkBH,CAvBO,CAAR,C","sources":["webpack://syntax/external window [\"wp\",\"apiFetch\"]","webpack://syntax/external window [\"wp\",\"domReady\"]","webpack://syntax/webpack/bootstrap","webpack://syntax/webpack/runtime/compat get default export","webpack://syntax/webpack/runtime/define property getters","webpack://syntax/webpack/runtime/hasOwnProperty shorthand","webpack://syntax/webpack/runtime/make namespace object","webpack://syntax/./src/js/admin.js"],"sourcesContent":["module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"domReady\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import domReady from '@wordpress/dom-ready';\nimport apiFetch from '@wordpress/api-fetch';\n\nconst { WB_SETTINGS: { settings: { license_verified: isLicenseVerified } } } = window;\n\nfunction showNotice( $el, type = 'info', message ) {\n    const $notice = document.createElement( 'div' );\n    const $button = document.createElement( 'button' );\n    $notice.classList.add( 'writers-blocks-license-verify-notice', 'notice', 'is-dismissible', `notice-${type}` );\n    $notice.innerHTML = `<p><strong>${message}</strong></p>`;\n    $button.classList.add( 'notice-dismiss' );\n    $button.setAttribute( 'type', 'button' );\n    $button.setAttribute( 'aria-label', 'Dismiss this notice.' );\n    $button.addEventListener( 'click', () => {\n        $el.removeChild( $notice );\n    } );\n    $notice.appendChild( $button );\n\n    if ( document.querySelector( '.writers-blocks-license-verify-notice' ) ) {\n        document.querySelector( '.writers-blocks-license-verify-notice' ).remove();\n    }\n\n    $el.prepend( $notice );\n}\n\ndomReady(() => {\n    const wrapper = document.querySelector( '.writers-blocks-settings' );\n    const $verifyLicense = document.querySelector('#verify-license');\n    const $licenseKey = document.querySelector('#license_key');\n\n    $verifyLicense.addEventListener('click', () => {\n        apiFetch({\n            path: '/writers-blocks/v1/license',\n            method: 'POST',\n            data: {\n                license: $licenseKey.value,\n                increment: !isLicenseVerified,\n            },\n        }).then(({ success }) => {\n            showNotice(\n                wrapper,\n                success ? 'success' : 'error',\n                success\n                    ? 'License verified!'\n                    : 'The license key entered did not appear to be a valid license key. Please enter a valid license key.'\n            );\n        });\n    });\n});\n"],"names":["domReady","apiFetch","WB_SETTINGS","settings","license_verified","isLicenseVerified","window","showNotice","$el","type","message","$notice","document","createElement","$button","classList","add","innerHTML","setAttribute","addEventListener","removeChild","appendChild","querySelector","remove","prepend","wrapper","$verifyLicense","$licenseKey","path","method","data","license","value","increment","then","success"],"sourceRoot":""}